---
title: "Counter"
permalink: /PLC-Ladder-Logic/Counter/
---

<a href="https://engineeringshare.github.io/engineering-hub/2025/10/20/PLC-Ladder-Logic-Functions.html">üîô Back to Ladder Logic Functions</a>

<style>
  .content-wrap{
    max-width: 900px;
    margin: 0 auto;
    padding: 0 1rem 1.25rem;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    line-height: 1.6;
    color: #0b1324;
  }
  .content-wrap h2{ margin-top: 1.25rem; }
  .hero-img{ text-align:center; margin: .5rem 0 1rem; }
  .hero-img img{ max-width: 220px; height:auto; }

  /* Table polish */
  table{
    width:100%;
    border-collapse: collapse;
    margin: .5rem 0 1rem;
    font-size: 0.98rem;
    overflow: hidden;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
  }
  th, td{ padding: .6rem .75rem; text-align: left; }
  thead th{ background:#f3f4f6; color:#111827; font-weight:600; border-bottom:1px solid #e5e7eb; }
  tbody tr:nth-child(even){ background:#fafafa; }
  tbody td{ border-top:1px solid #f1f5f9; }
  code{ background:#f3f4f6; padding:.05rem .35rem; border-radius:6px; }

  /* Simulator styles (same ‚Äúnice‚Äù layout as NC page) */
  .ladder-rung{--rail:#0f172a;--wire:#cbd5e1;--text:#0b1324;--muted:#64748b;--active:#16a34a;--coil:#2563eb;
    max-width:760px;margin:1rem auto;border:1px solid #e5e7eb;border-radius:14px;padding:1rem;background:#fff;
    box-shadow:0 6px 20px rgba(2,6,23,.06);}
  .ladder-rung .top{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem;gap:.75rem;flex-wrap:wrap}
  .kv{color:var(--muted)} .kv b{color:var(--text)}
  .switch{display:inline-flex;align-items:center;gap:.6rem;font-weight:600;color:var(--text)}
  .switch input{appearance:none;width:48px;height:28px;border-radius:999px;background:#e2e8f0;position:relative;cursor:pointer;transition:background .18s}
  .switch input:after{content:"";position:absolute;left:3px;top:3px;width:22px;height:22px;border-radius:50%;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.25);transition:left .18s}
  .switch input:checked{background:#bbf7d0}.switch input:checked:after{left:23px}
  .panel{background:#f8fafc;border:1px solid #e5e7eb;border-radius:12px;padding:.5rem}
  svg{width:100%;height:auto;display:block}
  .rail{stroke:var(--rail);stroke-width:7;stroke-linecap:round}
  .wire{stroke:var(--wire);stroke-width:5;fill:none;stroke-linecap:round}
  .contact-post{stroke:var(--wire);stroke-width:6}       /* NO posts (no slash) */
  .contact-bridge{stroke:var(--wire);stroke-width:6;stroke-linecap:round;opacity:.2;transition:opacity .12s}
  .coil{stroke:var(--coil);stroke-width:6;fill:none}
  .lamp{fill:#fbbf24;opacity:.15;transition:opacity .18s;filter:url(#glow)}
  .flow{stroke:var(--active);stroke-width:5;fill:none;stroke-linecap:round;stroke-dasharray:10 12;opacity:0}
  .on .wire,.on .contact-post,.on .coil{stroke:var(--active)}
  .on .contact-bridge{opacity:1}
  .on .flow{opacity:1;animation:flow 1.05s linear infinite}
  .on .lamp{opacity:.95}
  @keyframes flow{to{stroke-dashoffset:-22}}
  .lbl{fill:var(--muted);font-size:12px}
  .actuator .cyl-body{fill:none;stroke:var(--wire);stroke-width:5 ;stroke-linecap:round;}
  .actuator .rod line{stroke:var(--wire);stroke-width:5;stroke-linecap:round;}
  .actuator .rod circle{fill:var(--wire);stroke:var(--wire);stroke-width:2;}
  .actuator .rod{transform:translateX(0);transform-box:fill-box;transform-origin:center;transition:transform .18s ease-out;}
  .ladder-rung.on .actuator .rod{transform:translateX(32px);}
  .switch-row{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;}
  .timer-box{stroke: var(--wire);stroke-width: 4;fill: #f8fafc;   /* or #ffffff, but not default/black */}
  .timer-text{fill:var(--muted);font-size:12px;}

  /* CTU-specific ‚Äúon‚Äù styling (only right side / coil) */
  #ctuRung.ctu-on .coil{stroke:var(--active);}
  #ctuRung.ctu-on .lamp{opacity:.95;}
  #ctuRung.ctu-on .flow-out{opacity:1;animation:flow 1.05s linear infinite;}
</style>

<div style="text-align: center;">
    <img src="https://EngineeringShare.github.io/engineering-hub/images/PLC-Icons/CTU_Counter.png" alt="Counter Function Symbol" style="max-width: 200px; height: auto;">
    <img src="https://EngineeringShare.github.io/engineering-hub/images/PLC-Icons/CTD_Counter.png" alt="Counter Function Symbol" style="max-width: 200px; height: auto;">

</div>

<h2>Counter</h2>
<p> 
    Counters are used in PLC ladder logic to count events, objects, or operations. There are two primary types of counters: Up Counters (CTU) and Down Counters (CTD). An Up Counter increments its count value each time it receives a trigger signal, while a Down Counter decrements its count value with each trigger.
</p>

<p>
    A trigger signal is typically generated by a rising edge (transition from OFF to ON) of an input condition, such as a sensor or a push button. The current count value is stored in a designated memory location within the PLC, and it can be compared against preset values to control other operations in the ladder logic.
</p>

<p>
    Counters will allow a signal to pass through (i.e., energize their output) when the current count value reaches a predefined preset value. This makes them useful for applications such as counting items on a conveyor belt, tracking machine cycles, or managing batch processes.
</p>

<h3>Using a Counter</h3>

<p>
    There are three main values associated with a counter:
</p>

<ul>
    <li><strong>Preset Value (PV):</strong> This is the target count value that the counter is set to reach. When the current count matches the preset value, the counter's output will be activated.</li>
    <li><strong>Current Value (CV):</strong> This is the current count value that the counter has reached based on the trigger signals it has received.</li>
    <li><strong>Reset (R):</strong> This input is used to reset the counter's current value back to zero (for Up Counters) or to the preset value (for Down Counters).</li>
</ul>

<p>
    Without a reset signal, the counter will continue to energize its output once the preset value is reached, until it is reset or the PLC is powered down.
</p>

<p>
    A reset signal can be provided like so:
</p>

<img src="https://EngineeringShare.github.io/engineering-hub/images/PLC-Icons/CTU_Reset.png" alt="Counter Reset Example" style="max-width: 600px; height: auto;">

<h3>Behavior Table</h3>
The below table summarizes the behavior of an Output Coil:

<table>
    <tr>
        <th>Input Condition</th>
        <th>Counter State</th>
        <th>Output State</th>
    </tr>
    <tr>
        <td>CV &lt; PV</td>
        <td>Counting</td>
        <td>De-energized</td>
    </tr>
    <tr>
        <td>CV = PV</td>
        <td>Reached Preset</td>
        <td>Energized</td>
    </tr>
    <tr>
        <td>Reset Activated</td>
        <td>Resetting</td>
        <td>De-energized</td>
    </tr>
</table>

<!-- === NO Contact ‚Äî coil with cylinder branch directly underneath === -->
<!-- === CTU Counter Example (Count + Reset) === -->
<div class="ladder-rung" id="ctuRung">
  <div class="top">
    <div class="switch-row">
      <label class="switch" aria-label="Count pulse I0.0">
        <input id="ctuCountPB" type="checkbox"> Count Pulse (I0.0)
      </label>
      <label class="switch" aria-label="Reset I0.1">
        <input id="ctuResetPB" type="checkbox"> Reset (I0.1)
      </label>
    </div>
    <div class="kv">
      CV: <b id="ctuCV">0</b> / <span id="ctuPV">5</span> &nbsp;|&nbsp;
      Q: <b id="ctuQState">OFF</b>
    </div>
  </div>

  <div class="panel">
    <div class="timer-bar">
      <div class="timer-fill" id="ctuFill"></div>
    </div>

    <svg viewBox="0 0 820 200"
         role="img"
         aria-label="CTU counter with count and reset inputs and Q output coil">

      <!-- Rails -->
      <line class="rail" x1="70"  y1="20" x2="70"  y2="180"/>
      <line class="rail" x1="750" y1="20" x2="750" y2="180"/>
      <text class="lbl" x="58"  y="14">L (Power)</text>
      <text class="lbl" x="742" y="14">N</text>

      <!-- === Main rung: Count pulse -> CTU -> Q coil === -->
      <!-- Main wire -->
      <path class="wire" d="M70 80 H 240" />

      <!-- NO contact for Count Pulse (CU) -->
      <line class="contact-post" x1="260" y1="60" x2="260" y2="100"/>
      <line class="contact-post" x1="320" y1="60" x2="320" y2="100"/>
      <path class="wire" d="M240 80 H 260" />
      <path class="wire" d="M320 80 H 420" />
      <line class="contact-bridge" x1="260" y1="80" x2="320" y2="80" />
      <text class="lbl" x="235" y="50">NO (I0.0)</text>

      <!-- CTU block -->
      <rect class="timer-box" x="420" y="40" width="150" height="80" rx="8" ry="8" />
      <text class="timer-text" x="495" y="56" text-anchor="middle">CTU</text>
      <text class="timer-text" x="495" y="74" text-anchor="middle">C1</text>

      <!-- CTU left labels (inputs) -->
      <text class="timer-text" x="430" y="66">CU</text>
      <text class="timer-text" x="430" y="90">R</text>
      <text class="timer-text" x="430" y="112">PV</text>

      <!-- CTU right labels (outputs) -->
      <text class="timer-text" x="560" y="66">Q</text>
      <text class="timer-text" x="560" y="90">CV</text>

      <!-- Wires into CTU: CU from main rung -->
      <path class="wire" d="M420 80 H 435" />   <!-- main rung into CU -->
      <!-- Small vertical tick to indicate CU pin -->
      <path class="wire" d="M435 80 H 440" />

      <!-- Q output wire towards coil -->
      <path class="wire" d="M570 80 H 600" />

      <!-- Text for PV on side -->
      <text class="timer-text" x="455" y="132">PV = 5</text>

      <!-- CV text on right side as annotation -->
      <text class="timer-text" x="560" y="132" id="ctuCVLabel">CV = 0</text>

      <!-- === Reset branch feeding R input === -->
      <!-- Reset contact NO (I0.1) below -->
      <path class="wire" d="M70 130 H 240" />
      <line class="contact-post" x1="260" y1="110" x2="260" y2="150"/>
      <line class="contact-post" x1="320" y1="110" x2="320" y2="150"/>
      <path class="wire" d="M240 130 H 260" />
      <path class="wire" d="M320 130 H 400" />
      <line class="contact-bridge" x1="260" y1="130" x2="320" y2="130" />
      <text class="lbl" x="235" y="100">NO (I0.1)</text>

      <!-- Wire up into CTU R input -->
      <path class="wire" d="M400 130 H 420" />
      <path class="wire" d="M420 130 V 90" />   <!-- into R pin line -->

      <!-- Output Coil Q0.2, bracket style ----( )---- -->
      <!-- Left bracket arc -->
      <path class="coil" d="M660 58 A30 22 0 0 0 660 102" />
      <!-- Right bracket arc -->
      <path class="coil" d="M660 102 A30 22 0 0 0 660 58" />

      <circle class="lamp" cx="660" cy="80" r="18" />

      <!-- Wires to coil -->
      <path class="wire" d="M600 80 H 630" />
      <path class="wire" d="M690 80 H 750" />

      <text class="lbl" x="620" y="150">Output Coil (Q0.2)</text>

      <!-- Flow MAIN (Count pulse path into CTU) -->
      <path class="flow flow-in"  id="ctuFlowMain" d="M70 80 H 420" />
      <!-- Flow OUT (Q to coil) -->
      <path class="flow flow-out" id="ctuFlowOut"  d="M570 80 H 750" />
      <!-- Optional flow on reset branch (brief flash) -->
      <path class="flow" id="ctuFlowReset" d="M70 130 H 420" />
    </svg>
  </div>
</div>

<script>
(function(){
  const wrap      = document.getElementById("ctuRung");
  const countPB   = document.getElementById("ctuCountPB");
  const resetPB   = document.getElementById("ctuResetPB");

  const cvSpan    = document.getElementById("ctuCV");
  const pvSpan    = document.getElementById("ctuPV");
  const qSpan     = document.getElementById("ctuQState");
  const fill      = document.getElementById("ctuFill");
  const cvLabel   = document.getElementById("ctuCVLabel");

  const flowMain  = document.getElementById("ctuFlowMain");
  const flowOut   = document.getElementById("ctuFlowOut");
  const flowReset = document.getElementById("ctuFlowReset");

  const PV = 5;
  pvSpan.textContent = PV.toString();

  let CV = 0;
  let Q  = false;

  function updateQ(){
    Q = CV >= PV;
  }

  function render(){
    cvSpan.textContent = CV.toString();
    cvLabel.textContent = "CV = " + CV.toString();

    // simple ‚Äúfill‚Äù bar proportional to CV/PV
    const frac = Math.max(0, Math.min(1, CV / PV));
    fill.style.width = (frac * 100).toFixed(1) + "%";

    qSpan.textContent = Q ? "ON" : "OFF";

    // Outgoing flow & coil colour follow Q
    flowOut.style.opacity = Q ? 1 : 0;
    wrap.classList.toggle("ctu-on", Q);
  }

  function pulseFlow(pathEl){
    if (!pathEl) return;
    pathEl.style.opacity = 1;
    setTimeout(() => {
      if (pathEl !== flowOut) {  // don't force off Q flow here
        pathEl.style.opacity = 0;
      }
    }, 200);
  }

  // Make push buttons momentary and apply logic
  function pulseButton(btn, action, flowEl){
    if (!btn.checked) return;
    action();
    updateQ();
    render();
    pulseFlow(flowEl);
    setTimeout(() => { btn.checked = false; }, 150);
  }

  countPB.addEventListener("change", () => {
    pulseButton(countPB, () => {
      // Count up on each pulse, like a CTU (saturate at PV for demo)
      if (CV < 9999) CV += 1;
    }, flowMain);
  });

  resetPB.addEventListener("change", () => {
    pulseButton(resetPB, () => {
      CV = 0;
    }, flowReset);
  });

  updateQ();
  render();
})();
</script>
<!-- === /CTU Counter Example === -->

<a href="https://engineeringshare.github.io/engineering-hub/2025/10/20/PLC-Ladder-Logic-Functions.html">üîô Back to Ladder Logic Functions</a>
